{"version":3,"sources":["components/header/style.module.css","components/map/style.module.css","components/errors/style.module.css","views/chat/style.module.css","views/profile/style.module.css","services/useUrl/index.ts","model/cache/index.ts","model/cart/index.ts","services/useLink/index.ts","model/setting/queries.ts","controllers/useTopBar.ts","resources/translations/index.ts","components/popmenu/usePopMenu.ts","components/popmenu/index.tsx","components/topbar/index.tsx","resources/conf/index.ts","services/database/GqlProvider.tsx","services/database/rest.ts","services/database/RestProvider.tsx","services/database/storage.ts","services/usePath/index.ts","controllers/useApp.ts","components/nocart/index.tsx","model/client/queries.ts","services/io/useIO.ts","services/io/IOProvider.tsx","controllers/useCart.ts","components/orderview/index.tsx","services/validator/index.ts","controllers/useLogin.ts","views/login/index.tsx","components/cashpay/index.tsx","controllers/useAfterOrder.ts","views/cart/after.tsx","views/cart/index.tsx","components/header/index.tsx","controllers/useProduct.ts","components/product/index.tsx","model/stock/queries.ts","controllers/useStocks.ts","views/stocks/index.tsx","controllers/useAccount.ts","controllers/useChat.ts","views/chat/index.tsx","controllers/useOrders.ts","controllers/useClientOrderView.ts","components/clientOrderView/index.tsx","views/orders/index.tsx","controllers/useProfile.ts","controllers/useRegister.ts","components/map/index.tsx","views/register/after.tsx","views/register/index.tsx","views/profile/index.tsx","views/account/index.tsx","controllers/useLogout.ts","views/logout/index.tsx","App.tsx","components/errors/Error404.tsx","index.tsx","views/register/style.module.css","views/cart/style.module.css","components/popmenu/style.module.css","views/orders/style.module.css","components/topbar/style.module.css","views/account/style.module.css","views/login/style.module.css","components/nocart/style.module.css","components/cashpay/style.module.css","views/stocks/style.module.css"],"names":["module","exports","useUrl","url","useRouteMatch","getUrl","path","uri","charAt","length","substring","cart","makeVar","auth","cache","InMemoryCache","addTypename","typePolicies","Query","fields","items","read","GET_CART_ITEMS","gql","useCartModel","add","order","quantity","prev","remove","filter","o","clear","useLink","useParams","company","locale","history","useHistory","link","goTo","replace","pushTo","GET_SETTING","useTopBar","useLazyQuery","fetch","data","error","fetchPolicy","fetchSetting","setting","errorSetting","loadSetting","useCallback","variables","id","onError","e","console","log","message","useEffect","cartSize","hasOrder","translations","en_US","es_AR","fr_FR","pt_BR","usePopMenu","t","useLocale","useState","shown","showMenu","menu","useRef","hide","handleClick","target","tagName","setTimeout","window","addEventListener","removeEventListener","show","PopMenu","props","className","style","icon","onClick","overlay","item","to","TopBar","Fragment","Helmet","charSet","_","isEmpty","title","brand","name","activeClassName","active","badge","conf","rest","io","options","Apollo","React","createContext","GqlProvider","Provider","value","apollo","client","children","Rest","arg","base","headers","this","Accept","verb","method","body","JSON","stringify","RestClient","RestProvider","Store","storage","localStorage","key","removeItem","val","getVal","isString","setVal","isArray","nxt","push","getItem","parse","setItem","usePath","getPath","route","useApp","ApolloClient","NoCart","content","GET_CLIENT","GET_FULL_CLIENT","useIO","chat","setChat","anal","setAnal","store","useContext","sender","sendMsgToServer","msg","a","request","onJoin","payload","onMsg","hasVal","addVal","notify","phone","Howl","src","play","then","res","catch","onAnalEvent","status","socket","manager","Manager","emit","room","on","handleAnal","off","disconnect","cleanChat","cleanAnal","chatIO","analyticIO","ChatIO","undefined","AnalyticIO","SocketIOProvider","useCart","getCart","getClient","loadingClient","loading","errorClient","username","email","dest","file","useFile","useCalculator","subTotal","shipment","amount","loadingOperation","setLoadingOperation","orderSent","setOrderStatus","analIO","loadClient","bills","istotal","onOrderSent","send","operation","orders","type","parseFloat","json","ok","onLogged","shortAddress","address","apt","street","number","isAuth","OrderView","onRemove","stock","product","size","specie","mark","price","strike","descriptions","variety","container","img","useValidator","isMail","test","useLogin","useForm","register","handleSubmit","setLoading","setError","submit","prepare","login","operations","Login","form","onSubmit","field","label","iconRight","ref","theme","CashPay","location","useAfterOrder","keepShopping","AfterOrder","After","Cart","map","idx","billing","bill","payment","Header","heading","onChange","placeholder","useProduct","article","limit","avQuantity","dataType","Product","details","onSelect","selectText","GET_STOCKS","useStocks","setKey","stocks","edges","regex","RegExp","node","onSearch","search","buy","addToCart","Stocks","header","onBuy","useAccount","logout","useChat","lang","support","setMsg","filterMsg","m","isMsgWithCurrentDest","fetchMsg","chatMsg","created","moment","format","mapMsg","isSender","calendar","clearMsg","Chat","messages","onClose","onSend","useOrders","states","state","getDate","date","useClientOrderView","ClientOrderView","index","Orders","includes","useProfile","useRegister","loadingSetting","bounds","preview","setPreview","setData","confirmed","setConfirm","registered","setRegistered","isAddress","isUser","user","checkAddress","provider","OpenStreetMapProvider","query","city","fData","x","y","confirm","resetAddress","onclose","Map","dimension","width","height","onConfirm","AfterRegister","after","Register","defaultValue","onBlur","readOnly","Profile","Account","tabs","tab","component","exact","useLogout","Logout","App","Error404","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.79398a4b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"style_Header__LYSJ2\",\"heading\":\"style_heading__1_dP_\",\"field\":\"style_field__2iPiM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Map\":\"style_Map__2AJew\",\"field\":\"style_field__3LAh1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Error404\":\"style_Error404__37eq9\",\"message\":\"style_message__1Co_Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Chat\":\"style_Chat__2VCxE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"style_Profile__sYewN\"};","import {useRouteMatch} from \"react-router-dom\"\n\nconst useUrl = () => {\n    const {url} = useRouteMatch()\n    const getUrl = (path?: string) => {\n        let uri = (url && url.charAt(url.length-1) ===\"/\") ? url.substring(0,url.length-1): url\n        return `${uri}${path || \"\"}`\n    }\n    return {getUrl}\n}\nexport default useUrl","import {InMemoryCache, makeVar} from '@apollo/client'\n\nexport const cart: any = makeVar<any>([])\nexport const auth: any = makeVar<any>({})\n\n\nconst cache = new InMemoryCache({\n    addTypename: false,\n    typePolicies: {\n        Query: {\n            fields: {\n                items: {\n                    read() {\n                        return cart()\n                    }\n                },\n                auth: {\n                    read() {\n                        return auth()\n                    }\n                }\n            }\n        }\n    }\n})\n\nexport default cache\n","import {gql} from '@apollo/client'\nimport {cart} from '../cache'\n\nexport const GET_CART_ITEMS = gql`\n    query GetCartItems {\n        items @client\n    }\n`\nconst useCartModel = () => {\n    const read = () => cart()\n    const add = (order: any) => {\n        if (order?.quantity > 0) {\n            const prev =  cart()\n            const items = [...prev, order]\n            cart(items)\n        }\n    }\n    const remove = (order: any) => {\n        const items = cart().filter((o: any) => o !== order)\n        cart(items)\n    }\n    const clear = () => {\n        cart([])\n    }\n    return {add, remove, clear, read}\n}\n\nexport default useCartModel\n","import { useHistory, useParams } from \"react-router-dom\"\n\nconst useLink = () => {\n    const { company, locale } = useParams<any>()\n    const history = useHistory()\n\n    const link = (path?: string) => `/${locale}/${company}${path || \"\"}`\n    const goTo = (path: string) => history.replace(link(path))\n    const pushTo = (path: string) => history.replace(link(path))\n\n    return { link, goTo, pushTo }\n}\nexport default useLink","import {gql} from \"@apollo/client\";\n\nconst GET_SETTING = gql`\n    query GetSetting($id: ID!) {\n        setting(id: $id) {\n            id\n            created\n            description\n            openTime\n            closeTime\n            openDays\n            bounds\n            emails\n            phones\n            name\n            alias\n            title\n            description\n            country\n            file {\n                id\n                mime\n                uri\n                path\n                name\n                ext\n                type\n                size\n            }\n            address {\n                id\n                street\n                number\n                apt\n                location {\n                    id\n                    x\n                    y\n                    label\n                }\n            }\n        }\n    }\n\n`\n\nexport {GET_SETTING}","import {useCallback, useEffect} from \"react\"\nimport {useParams, useRouteMatch} from \"react-router-dom\"\nimport useUrl from \"../services/useUrl\"\nimport {GET_CART_ITEMS} from \"../model/cart\";\nimport {useLazyQuery} from \"@apollo/client\";\nimport useLink from \"../services/useLink\";\nimport {GET_SETTING} from \"../model/setting/queries\";\n\nconst useTopBar = () => {\n    const {company} = useParams<any>()\n    const [fetch, {data, error}] = useLazyQuery(GET_CART_ITEMS)\n    const [fetchSetting, {\n        data: setting,\n        error: errorSetting\n    }] = useLazyQuery(GET_SETTING, {fetchPolicy: \"network-only\"});\n    const loadSetting = useCallback(() => fetch({variables: {id: \"/api/settings/1\"}}), [fetchSetting])\n    const {getUrl} = useUrl()\n    const {goTo} = useLink()\n    const {url} = useRouteMatch()\n    const onError = (e: any) => console.log(e.message)\n    useEffect(() => {\n        fetch()\n        loadSetting()\n    }, [fetch, loadSetting, url])\n    if (error) onError(error.message)\n    if (errorSetting) onError(errorSetting.message)\n    return {\n        company,\n        goTo,\n        setting: setting?.setting,\n        cartSize: data?.items?.length,\n        hasOrder: data?.items?.length > 0,\n        getUrl\n    }\n}\nexport default useTopBar","import en_US from \"./en_US.json\"\nimport es_AR from \"./es_AR.json\"\nimport fr_FR from \"./fr_FR.json\"\nimport pt_BR from \"./pt_BR.json\"\n\nconst translations = {en_US, es_AR, fr_FR, pt_BR}\nexport default translations","import {useLocale} from \"im-hooks\";\nimport useLink from \"../../services/useLink\";\nimport useUrl from \"../../services/useUrl\";\nimport {useCallback, useEffect, useState} from \"react\";\nimport {useRef} from \"react\";\nimport translations from \"../../resources/translations\";\nimport {useParams} from \"react-router-dom\";\n\nconst usePopMenu = () => {\n    const {locale} = useParams<any>()\n    const {t} = useLocale(translations, locale)\n    const {goTo} = useLink()\n    const {getUrl} = useUrl()\n    const [shown, showMenu] = useState<boolean>(false)\n    const menu = useRef<any>()\n    const show = () => showMenu((shown: boolean) => shown = true)\n    const hide = () => showMenu((shown: boolean) => shown = false)\n    const handleClick = useCallback((e: any) => {\n        if (shown) {\n            if (e.target.tagName === \"A\") {\n                setTimeout(() => hide(), 500)\n            } else {\n                hide()\n            }\n        }\n    }, [shown])\n\n    useEffect(() => {\n        window.addEventListener(\"click\", handleClick)\n        return () => {\n            window.removeEventListener(\"click\", handleClick)\n        }\n    }, [handleClick])\n\n    return {t, hide, menu, show, shown, goTo, getUrl}\n}\nexport default usePopMenu","import React from \"react\"\nimport style from \"./style.module.css\"\nimport {HiDotsVertical} from \"react-icons/hi\"\nimport {Link} from \"react-router-dom\"\nimport usePopMenu from \"./usePopMenu\";\n\nconst PopMenu = (props: any) => {\n    const {t, getUrl, show, shown} = usePopMenu()\n    return (\n        <div className={style.PopMenu}>\n            <button className={style.icon} onClick={show}><HiDotsVertical/></button>\n            {shown &&\n                <nav className={style.overlay}>\n                    <ul className={style.items}>\n                        <li className={style.item}>\n                            <Link className={style.link} to={getUrl(\"/account/profile\")}>{t(\"Profile\")}</Link>\n                        </li>\n                        <li className={style.item}>\n                            <Link className={style.link} to={getUrl(\"/account/chat\")}>{t(\"Chat\")}</Link>\n                        </li>\n                        <li className={style.item}>\n                            <Link className={style.link} to={getUrl(\"/account/orders\")}>{t(\"My Orders\")}</Link>\n                        </li>\n                        <li className={style.item}>\n                            <Link className={style.link} to={getUrl(\"/logout\")}>{t(\"Logout\")}</Link>\n                        </li>\n                    </ul>\n                </nav>\n            }\n        </div>\n    )\n}\n\nexport default PopMenu","import React from \"react\";\nimport {Link, NavLink} from \"react-router-dom\";\nimport useTopBar from \"../../controllers/useTopBar\";\nimport style from \"./style.module.css\";\nimport {BiCartAlt} from \"react-icons/bi\";\nimport {FiSearch} from \"react-icons/fi\";\nimport PopMenu from \"../popmenu\";\nimport {Helmet} from \"react-helmet\";\nimport _ from \"lodash\";\n\nconst TopBar = (props: any) => {\n    const {getUrl, setting, company, hasOrder, cartSize} = useTopBar();\n    return (\n        <React.Fragment>\n            <Helmet>\n                <meta charSet=\"utf-8\"/>\n                {!_.isEmpty(setting?.title) && <title>{setting?.title}</title>}\n            </Helmet>\n            <nav className={style.TopBar}>\n                <ul>\n                    <li>\n                        <Link className={style.brand} to={getUrl()}>\n                            <div className={style.name}>{company}</div>\n                        </Link>\n                    </li>\n                </ul>\n                <ul>\n                    <li>\n                        <NavLink className={style.link} activeClassName={style.active} to={getUrl(\"/stocks\")}>\n                            <div className={style.icon}>\n                                <FiSearch/>\n                            </div>\n                        </NavLink>\n                    </li>\n                    <li>\n                        <NavLink className={style.link} activeClassName={style.active} to={getUrl(\"/cart\")}>\n                            <div className={style.icon}>\n                                <BiCartAlt/>\n                                {hasOrder && <div className={style.badge}>{cartSize}</div>}\n                            </div>\n                        </NavLink>\n                    </li>\n                    <li>\n                        <PopMenu/>\n                    </li>\n                </ul>\n            </nav>\n        </React.Fragment>\n    );\n};\n\nexport default TopBar;\n","const conf = {\n    gql: {\n        url: \"http://api.inmarketify.ml/api/graphql\",\n    },\n    rest: {\n        url: \"http://api.inmarketify.ml\",\n    },\n    io: {\n        url: \"http://io.inmarketify.ml\",\n        options: {},\n    },\n};\n\nexport default conf;\n","import React from \"react\";\nimport {ApolloClient, ApolloProvider} from \"@apollo/client\";\n\nexport const Apollo = React.createContext<ApolloClient<any>|null>(null);\n\nconst GqlProvider = (props: { children?: any; apollo: ApolloClient<any>; }) => {\n    return (\n        <Apollo.Provider value={props.apollo}>\n            <ApolloProvider client={props.apollo}>\n                {props.children}\n            </ApolloProvider>\n        </Apollo.Provider>\n    );\n};\n\nexport default GqlProvider;\n","class Rest {\n  private readonly base: any;\n  private readonly headers: any;\n  constructor(arg: { url: string; headers?: any }) {\n    this.base = arg.url;\n    this.headers = {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      ...arg.headers,\n    };\n  }\n\n  private getUrl(path: string) {\n    return `${this.base}${path}`;\n  }\n\n  async request(\n    verb: \"GET\" | \"POST\" | \"PUT\" | \"DELETE\",\n    path: string,\n    data: any\n  ) {\n    try {\n      const url = this.getUrl(path);\n      return await fetch(url, {\n        headers: this.headers,\n        method: verb,\n        body: JSON.stringify(data),\n      })\n    } catch (error) {\n      console.log(error.message);\n      return error;\n    }\n  }\n}\n\nexport default Rest;\n","import React from \"react\";\nimport Rest from \"./rest\";\n\nexport const RestClient = React.createContext<Rest | null>(null);\n\nconst RestProvider = (props: { children?: any; rest: Rest }) => (\n  <RestClient.Provider value={props.rest}>{props.children}</RestClient.Provider>\n);\n\nexport default RestProvider;\n","import _ from \"lodash\";\n\nclass Store {\n    private storage;\n    private readonly company;\n\n    constructor(company?: string) {\n        this.storage = window.localStorage;\n        this.company = company + \"@\"\n    }\n\n    clear() {\n        this.storage.clear()\n    }\n\n    removeItem(key: string) {\n        this.storage.removeItem(this.company + key)\n    }\n\n    removeVal(key: string, val: string | object | Array<any>) {\n        const item = this.getVal(key) || {};\n        if (!_.isString(val)) {\n            if (_.isArray(item)) {\n                const nxt = item.filter((o: any) => o !== val);\n                this.setVal(key, nxt);\n            }\n        } else {\n            if (item[val]) {\n                delete item[val];\n                this.setVal(key, item);\n            }\n        }\n    }\n\n    addVal(key: string, val: any) {\n        const item = this.getVal(key);\n        if (_.isArray(item)) {\n            item.push(val);\n            this.setVal(key, item);\n        } else {\n            this.setVal(key, {...item, ...val});\n        }\n    }\n\n    getVal(key: string) {\n        const item: any = this.storage.getItem(this.company + key);\n        try {\n            return JSON.parse(item);\n        } catch (error) {\n            console.log(error.message);\n        }\n    }\n\n    setVal(key: string, val: any) {\n        return this.storage.setItem(this.company + key, JSON.stringify(val));\n    }\n\n    hasVal(key: string) {\n        const item = this.getVal(key)\n        return !_.isEmpty(item)\n    }\n}\n\nexport default Store;\n","import {useRouteMatch} from \"react-router-dom\"\n\nconst usePath = () => {\n    const {path} = useRouteMatch()\n    const getPath = (route?: string) => {\n        return `${path}${route || \"\"}`\n    }\n    return {getPath}\n}\nexport default usePath","import {useParams} from \"react-router-dom\"\nimport conf from \"../resources/conf\"\nimport {Rest} from \"../services/database\";\nimport {ApolloClient} from \"@apollo/client\";\nimport cache from \"../model/cache\";\nimport usePath from \"../services/usePath\";\nimport useUrl from \"../services/useUrl\";\n\nconst useApp = () => {\n    const {company, locale} = useParams<any>()\n    const {getPath} = usePath()\n    const {getUrl} = useUrl()\n    const rest = new Rest({url: conf.rest.url, headers: {\"IM-COMPANY\": company}})\n    const apollo = new ApolloClient({uri: conf.gql.url, headers: {\"IM-COMPANY\": company}, cache: cache})\n\n    return {getPath, getUrl, company, locale, rest, apollo}\n}\n\nexport default useApp","import React from \"react\";\nimport style from \"./style.module.css\";\nimport { useLocale } from \"im-hooks\";\nimport { MdRemoveShoppingCart } from \"react-icons/md\";\nimport translations from \"../../resources/translations\";\nimport {useParams} from \"react-router-dom\";\n\nconst NoCart = (props: any) => {\n  const {locale} = useParams<any>()\n  const {t} = useLocale(translations, locale)\n  return (\n    <div className={style.NoCart}>\n      <div className={style.content}>\n        <div className={style.icon}>\n          <MdRemoveShoppingCart />\n        </div>\n        <div className={style.message}>{t(\"Empty Cart\")}</div>\n      </div>\n    </div>\n  );\n};\nexport default NoCart;\n","import {gql} from '@apollo/client'\n\nconst GET_CLIENT = gql`\n    query GetClient($id:ID!) {\n        client(id: $id) {\n            id\n            created\n            username\n            email\n            phone\n            address{\n                id\n                street\n                apt\n                number\n                location{\n                    id\n                    x\n                    y\n                    label\n                }\n            }\n        }\n    }`\nconst GET_FULL_CLIENT = gql`\n    query GetFullClient($id:ID!) {\n        client(id: $id) {\n            id\n            created\n            status\n            username\n            email\n            phone\n            operations{\n                edges{\n                    node{\n                        id\n                        created\n                        amount\n                        status\n                        orders{\n                            edges{\n                                node{\n                                    id\n                                    created\n                                    quantity\n                                    stock{\n                                        id\n                                        price\n                                        tax\n                                        cost\n                                        shipping\n                                        shippingAdditional\n                                        file{\n                                            uri\n                                            path\n                                            name\n                                        }\n                                        product{\n                                            id\n                                            specie\n                                            mark\n                                            variety\n                                            container\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            address{\n                id\n                street\n                apt\n                number\n                location{\n                    id\n                    x\n                    y\n                    label\n                }\n            }\n        }\n    }`\n\n\nexport {GET_CLIENT, GET_FULL_CLIENT}","import {useContext, useEffect, useState} from \"react\"\nimport {Manager} from \"socket.io-client\"\nimport conf from \"../../resources/conf\";\nimport {useParams} from \"react-router-dom\";\nimport {RestClient, Store} from \"../database\";\nimport {Howl} from 'howler';\n\nconst useIO = () => {\n    const {company} = useParams<any>()\n    const [chat, setChat] = useState<any>()\n    const [anal, setAnal] = useState<any>()\n    const store = new Store(company)\n    const rest = useContext(RestClient)\n    const [sender] = useState<any>(() => store.getVal(\"auth\"))\n\n    const playNotice = () => {\n        const sound = new Howl({src: ['/audio/message.mp3','/audio/message.ogg','/audio/message.m4r']});\n        sound.play()\n    }\n    const onError = (e: any) => console.log(e.message)\n    const sendMsgToServer = async (msg: any) => {\n        try {\n            return await rest?.request(\"POST\", \"/api/chats\", msg)\n        } catch (e) {\n            console.log(e.message)\n            return e\n        }\n    }\n    const onJoin = (payload: any) => {\n    }\n    const onMsg = (payload: any) => {\n        if (!store.hasVal(\"chat\")) store.setVal(\"chat\", [])\n        store.addVal(\"chat\", payload)\n        const notify = () => {\n            if (payload?.sender?.phone === company) { playNotice()  }\n        }\n        sendMsgToServer(payload).then(res => notify()).catch(onError)\n    }\n    const onAnalEvent = (payload: any) => {\n        const status = payload?.content?.status\n        const id = payload?.content?.id\n    }\n    const handleChat = (socket: SocketIOClient.Socket) => {\n        // we need to join a room\n        // client need to join his phone\n        socket.emit(\"join\", {room: sender?.phone})\n        socket.emit(\"register\", {content: sender})\n        socket.on(\"join\", onJoin)\n        socket.on(\"message\", onMsg)\n    }\n    const handleAnal = (socket: SocketIOClient.Socket) => {\n        socket.emit(\"join\", {room: \"analytic@\" + company})\n        socket.on(\"message\", onAnalEvent)\n    }\n    const cleanChat = (socket: SocketIOClient.Socket) => {\n        if (socket) {\n            socket.off(\"join\", onJoin)\n            socket.off(\"message\", onMsg)\n            socket.disconnect()\n        }\n    }\n    const cleanAnal = (socket: SocketIOClient.Socket) => {\n        if (socket) {\n            socket.off(\"message\", onAnalEvent)\n            socket.disconnect()\n        }\n    }\n\n    useEffect(() => {\n        const manager = new Manager(conf.io.url, conf.io.options)\n        const chat = manager.socket(\"/chat\")\n        const anal = manager.socket(\"/analytic\")\n        handleChat(chat)\n        handleAnal(anal)\n        setChat(chat)\n        setAnal(anal)\n        return () => {\n            cleanChat(chat)\n            cleanAnal(anal)\n        }\n    }, [])\n\n    return {chatIO: chat, analyticIO: anal}\n}\n\nexport default useIO","import React from \"react\";\nimport useIO from \"./useIO\";\n\nexport const ChatIO = React.createContext<SocketIOClient.Socket | undefined>(undefined)\nexport const AnalyticIO = React.createContext<SocketIOClient.Socket | undefined>(undefined)\n\nexport const SocketIOProvider = (props: any) => {\n    const {chatIO, analyticIO} = useIO()\n    return (\n        <ChatIO.Provider value={chatIO}>\n            <AnalyticIO.Provider value={analyticIO}>\n                <React.Fragment>\n                    {props.children}\n                </React.Fragment>\n            </AnalyticIO.Provider>\n        </ChatIO.Provider>\n    )\n}\n","import _ from \"lodash\"\nimport {useCallback, useContext, useEffect, useState} from \"react\"\nimport {RestClient, Store} from \"../services/database\"\nimport {useCalculator, useFile, useLocale} from \"im-hooks\"\nimport {useLazyQuery} from \"@apollo/client\";\nimport useCartModel, {GET_CART_ITEMS} from \"../model/cart\";\nimport {GET_CLIENT} from \"../model/client/queries\";\nimport {useParams} from \"react-router-dom\";\nimport translations from \"../resources/translations\";\nimport {AnalyticIO} from \"../services/io/IOProvider\";\n\nconst useCart = () => {\n    const {locale} = useParams<any>()\n    const {t} = useLocale(translations, locale)\n    const {company} = useParams<any>()\n    const cart = useCartModel()\n    const [getCart, {data, error}] = useLazyQuery(GET_CART_ITEMS);\n    const [getClient, {data: auth, loading: loadingClient, error: errorClient}]: any = useLazyQuery(GET_CLIENT);\n    const [dest] = useState<any>(() => ({username: company, email: company, phone: \"analytic@\" + company}))\n    const file = useFile()\n    const {subTotal, shipment, amount} = useCalculator(data?.items)\n    const rest = useContext(RestClient)\n    const [loadingOperation, setLoadingOperation] = useState(false)\n    const [orderSent, setOrderStatus] = useState(false)\n    const analIO = useContext(AnalyticIO)\n\n    if (error) console.log(error.message)\n    if (errorClient) console.log(errorClient.message)\n\n    const onLogged = () => loadClient()\n\n    const loadClient = useCallback(() => {\n        const store = new Store(company)\n        const item = store.getVal(\"auth\")\n        if (item) getClient({variables: {id: item?.id}})\n    }, [getClient])\n\n    const bills: any = [\n        {name: t(\"Subtotal\"), value: subTotal()},\n        {name: t(\"Shipping\"), value: shipment()},\n        {name: t(\"Total\"), value: amount(), istotal: true},\n    ];\n\n    const onOrderSent = (order: any) => {\n        if (analIO) {\n            analIO.emit(\"message\", {sender: auth?.client, dest: dest, content: {title: \"new order\", ...order}})\n        }\n    }\n\n    const shortAddress = (address: any) => address ? `${address?.apt}, ${address?.street} ${address?.number}` : null\n\n    const send = async () => {\n        if (!data?.items) return null;\n        setLoadingOperation(true)\n        try {\n            const operation = {\n                client: auth?.client,\n                orders: data?.items,\n                type: \"cash\",\n                amount: parseFloat(amount()),\n            }\n            const res = await rest?.request(\"POST\", \"/api/operations\", operation)\n            const order = await res.json()\n            setOrderStatus(res.ok)\n            onOrderSent(order)\n        } catch (e) {\n            console.log(e.message)\n        } finally {\n            setLoadingOperation(false)\n        }\n    }\n\n    useEffect(() => {\n        getCart()\n        loadClient()\n    }, [getCart, loadClient])\n\n    return {\n        ...cart,\n        onLogged,\n        t,\n        loading: loadingClient || loadingOperation,\n        send,\n        orderSent,\n        auth: auth?.client,\n        shortAddress,\n        file,\n        bills,\n        cart: data?.items,\n        hasOrder: !_.isEmpty(data?.items),\n        isAuth: !_.isEmpty(auth?.client)\n    }\n}\n\nexport default useCart;","import React from \"react\";\nimport {Order} from \"im-ui-core\";\nimport useCart from \"../../controllers/useCart\";\n\nconst OrderView = ({order, onRemove}: any) => {\n    const {file} = useCart();\n    const stock = order?.stock;\n    const product = order?.stock?.product;\n    return (\n        <Order\n            size=\"sm\"\n            specie={product?.specie}\n            mark={product?.mark}\n            price={stock?.price}\n            strike={stock?.strike}\n            descriptions={`${product?.variety || \"\"} ${product?.container || \"\"}`}\n            img={`http://${file.url(stock?.file)}`}\n            quantity={order?.quantity}\n            onRemove={onRemove ? () => onRemove(order) : undefined}\n        />\n    );\n};\n\nexport default OrderView;\n","const useValidator = () => {\n    const isMail = (email: string) => {\n        return (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(email))\n    }\n    return { isMail }\n}\n\nexport default useValidator","import {useForm} from \"react-hook-form\"\nimport {useLocale} from \"im-hooks\"\nimport useLink from \"../services/useLink\"\nimport {useContext, useState} from \"react\"\nimport {RestClient, Store} from \"../services/database\"\nimport useValidator from \"../services/validator\"\nimport {useParams} from \"react-router-dom\";\nimport translations from \"../resources/translations\";\n\nconst useLogin = (arg?: any) => {\n    const {locale} = useParams<any>()\n    const {t} = useLocale(translations, locale)\n    const {company} = useParams<any>()\n    const {goTo} = useLink()\n    const {register, handleSubmit} = useForm()\n    const rest = useContext(RestClient)\n    const {isMail} = useValidator()\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState<any>({})\n    const store = new Store(company)\n\n    const submit = async (data: any) => {\n        setLoading(true)\n        setError({})\n        try {\n            const res = await rest?.request(\"POST\", \"/security/client\", prepare(data))\n            if (!res.ok) return setError({login: t(\"Client not found!\")})\n            const json = await res.json()\n            json.id = \"/api/clients/\" + json.id\n            delete json.operations\n            store.setVal(\"auth\", json)\n            if (arg.onLogged) arg.onLogged()\n        } catch (error) {\n            console.log(error.message)\n            return setError({login: t(\"An error has occured!\")})\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    const prepare = (data: any) => {\n        if (isMail(data?.login)) {\n            data.email = data?.login\n        } else {\n            data.username = data?.login\n        }\n        delete data?.login\n        return data\n    }\n\n    return {t, error, loading, goTo, submit, register, handleSubmit}\n}\n\nexport default useLogin","import React from \"react\";\nimport useLogin from \"../../controllers/useLogin\";\nimport style from \"./style.module.css\";\nimport {Field, Button, Loader} from \"im-ui-core\";\nimport {MdPerson, MdPhone} from \"react-icons/md\";\n\nconst Login = (props: any) => {\n    const {t, error, loading, goTo, handleSubmit, submit, register} = useLogin(props);\n    return (\n        <div className={style.Login}>\n            <div className={style.login}>\n                <form className={style.form} onSubmit={handleSubmit(submit)}>\n                    <div className={style.field}>\n                        <Field label={t(\"Username or Email\")} error={error?.login} iconRight={<MdPerson/>}>\n                            <input type=\"text\" ref={register} name=\"login\"/>\n                        </Field>\n                    </div>\n                    <div className={style.field}>\n                        <Field label={t(\"Phone\")} iconRight={<MdPhone/>}>\n                            <input type=\"text\" ref={register} name=\"phone\"/>\n                        </Field>\n                    </div>\n                    <div className={style.submit}>\n                        <Button type=\"submit\" theme=\"light\">\n                            {t(\"Login\")}\n                        </Button>\n                    </div>\n                    <div className={style.submit}>\n                        <Button onClick={() => goTo(\"/register\")}>{t(\"Register\")}</Button>\n                    </div>\n                </form>\n            </div>\n            {loading && <Loader/>}\n        </div>\n    );\n};\nexport default Login;\n","import {Button} from \"im-ui-core\"\nimport React from \"react\"\nimport style from \"./style.module.css\"\nimport {useLocale} from \"im-hooks\";\nimport translations from \"../../resources/translations\";\nimport {useParams} from \"react-router-dom\";\n\nconst CashPay = (props: any) => {\n    const {locale} = useParams<any>()\n    const {t} = useLocale(translations, locale)\n    return (\n        <div className={style.CashPay}>\n            <div className={style.message}>{props.message||t(\"Pay on delivery\")}</div>\n            <address className={style.location}>{t(\"Deliver to\")} {props.location}</address>\n            <div className={style.submit}>\n                <Button theme=\"dark\" onClick={props.onClick}>{t(\"Continue\")}</Button>\n            </div>\n        </div>\n    )\n}\n\nexport default CashPay","import useCartModel from \"../model/cart\";\nimport useLink from \"../services/useLink\";\nimport {useLocale} from \"im-hooks\";\nimport translations from \"../resources/translations\";\nimport {useParams} from \"react-router-dom\";\n\nconst useAfterOrder = () => {\n    const {locale} = useParams<any>()\n    const {t} = useLocale(translations, locale)\n    const cart = useCartModel()\n    const {goTo} = useLink()\n\n    const keepShopping = () => {\n        cart.clear()\n        goTo(\"/stocks\")\n    }\n    return {t,keepShopping}\n}\n\nexport default useAfterOrder","import React from \"react\";\nimport style from \"./style.module.css\"\nimport {HiShieldCheck} from \"react-icons/hi\"\nimport {RiShoppingCart2Line} from \"react-icons/ri\"\nimport useAfterOrder from \"../../controllers/useAfterOrder\";\n\n\nconst AfterOrder = (props: any) => {\n    const {keepShopping, t} = useAfterOrder()\n    return (\n        <div className={style.After}>\n            <div className={style.content}>\n                <div className={style.icon}><HiShieldCheck/></div>\n                <div className={style.message}>{props.message}</div>\n                <button className={style.link} onClick={keepShopping}>\n                    <span className={style.icon}><RiShoppingCart2Line/></span>\n                    <span>{t(\"Keep Shopping\")}</span>\n                </button>\n            </div>\n        </div>\n    )\n}\nexport default AfterOrder","import _ from \"lodash\";\nimport React from \"react\";\nimport NoCart from \"../../components/nocart\";\nimport OrderView from \"../../components/orderview\";\nimport useCart from \"../../controllers/useCart\";\nimport Login from \"../login\";\nimport style from \"./style.module.css\";\nimport {Billing, Loader} from \"im-ui-core\";\nimport CashPay from \"../../components/cashpay\";\nimport AfterOrder from \"./after\";\n\nconst Cart = (props: any) => {\n    const {\n        cart,\n        onLogged,\n        t,\n        send,\n        orderSent,\n        shortAddress,\n        auth,\n        loading,\n        bills,\n        remove,\n        hasOrder,\n        isAuth\n    } = useCart();\n    if (loading) {\n        return <Loader/>\n    } else if (!isAuth) {\n        return <Login onLogged={onLogged}/>;\n    } else if (!hasOrder) {\n        return <NoCart/>;\n    } else if (orderSent) {\n        return <AfterOrder message={t(\"Order has been sent\")}/>;\n    } else {\n        return (\n            <div className={style.Cart}>\n                <div className={style.content}>\n                    <div className={style.cart}>\n                        <div className={style.items}>\n                            {_.map(cart, (order: any, idx) => {\n                                return <OrderView key={idx} order={order} onRemove={remove}/>;\n                            })}\n                        </div>\n                    </div>\n                    <div className={style.billing}>\n                        <div className={style.bill}>\n                            <Billing bills={bills}/>\n                        </div>\n                        <div className={style.payment}>\n                            <CashPay onClick={send} location={shortAddress(auth.address)}/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n};\nexport default Cart;\n","import React from \"react\";\nimport style from \"./style.module.css\";\nimport {SearchInput} from \"im-ui-core\";\nimport {useLocale} from \"im-hooks\";\nimport translations from \"../../resources/translations\";\nimport {useParams} from \"react-router-dom\";\n\nconst Header = (props: any) => {\n    const {locale} = useParams<any>()\n    const {t} = useLocale(translations, locale)\n    return (\n        <div className={style.Header}>\n            <div className={style.heading}>{props.children}</div>\n            <div className={style.field}>\n                <SearchInput onChange={props.onChange} placeholder={t(\"Search\")}/>\n            </div>\n        </div>\n    );\n};\n\nexport default Header;\n","import { useFile } from \"im-hooks\"\nconst useProduct = (stock: any) => {\n    const file = useFile()\n    const product = stock?.product || {}\n    const article: any = { img: \"http://\"+file.url(stock?.file), limit: stock?.avQuantity, dataType: \"stock\", data: stock }\n    const descriptions = `${product?.variety || \"\"} ${product?.container || \"\"}`\n\n    return { article, product, descriptions }\n}\n\nexport default useProduct","import useProduct from \"../../controllers/useProduct\";\nimport {useLocale} from \"im-hooks\";\nimport {Article} from \"im-ui-core\";\nimport translations from \"../../resources/translations\";\nimport {useParams} from \"react-router-dom\";\n\nconst Product = (props: any) => {\n    const {locale} = useParams<any>()\n    const {t} = useLocale(translations, locale);\n    const {article, product, descriptions} = useProduct(props.stock);\n    return (\n        <Article\n            {...article}\n            details={{\n                ...product,\n                descriptions,\n            }}\n            onSelect={props.onSelect}\n            selectText={t(\"Add to Cart\")}\n        />\n    );\n};\n\nexport default Product;\n","import {gql} from '@apollo/client'\n\nconst GET_STOCKS = gql`\n    query GetStocks {\n        stocks {\n            totalCount\n            edges {\n                node {\n                    id\n                    created\n                    status\n                    quantityAv\n                    price\n                    oldPrice\n                    tax\n                    shipping\n                    shippingAdditional\n                    devise\n                    fraction\n                    file{\n                        uri\n                        path\n                        name\n                    }\n                    product{\n                        specie\n                        mark\n                        variety\n                        container\n                    }\n                }\n            }\n        }\n    }`\n\n\nexport {GET_STOCKS}","import _ from \"lodash\"\nimport {useEffect, useState} from \"react\"\nimport {useParams} from \"react-router-dom\"\nimport useCartModel, {GET_CART_ITEMS} from \"../model/cart\";\nimport {useLazyQuery} from \"@apollo/client\";\nimport {GET_STOCKS} from \"../model/stock/queries\";\n\nconst useStocks = () => {\n    const {company} = useParams<any>()\n    const [key, setKey] = useState<string>()\n    const cart = useCartModel()\n    const [fetch, {loading, data, error}] = useLazyQuery(GET_STOCKS)\n    const [getCart] = useLazyQuery(GET_CART_ITEMS)\n    const stocks = data?.stocks?.edges\n\n    useEffect(() => {\n        fetch()\n        getCart()\n    }, [fetch, getCart])\n\n    const filter = () => _.filter(stocks, (o) => {\n        if (key) {\n            const regex = new RegExp(`^${key}`, \"i\")\n            const stock = o.node\n            return (regex.test(stock?.product?.specie) ||\n                regex.test(stock?.product?.mark))\n        }\n        return true\n    })\n\n    const onSearch = (search: string) => setKey(search)\n    const addToCart = (order: any) => {\n        cart.add(order)\n        fetch()\n    }\n\n    const buy = (order: any) => {\n        console.log(order)\n    }\n\n    if (error) console.log(error.message)\n    return {company, stocks, loading, key, filter, onSearch, buy, addToCart}\n}\n\nexport default useStocks","import {Loader} from \"im-ui-core\";\nimport React from \"react\";\nimport Header from \"../../components/header\";\nimport Product from \"../../components/product\";\nimport useStocks from \"../../controllers/useStocks\";\nimport style from \"./style.module.css\";\n\nconst Stocks = (props: any) => {\n    const {onSearch, loading, filter, buy, addToCart} = useStocks();\n    return (\n        <div className={style.Stocks}>\n            <div className={style.header}><Header onChange={onSearch}/></div>\n            <div className={style.content}>\n                <div className={style.items}>\n                    {filter().map((o: any, idx: number) => (\n                        <Product key={idx} stock={o.node} onBuy={buy} onSelect={addToCart}/>\n                    ))}\n                </div>\n            </div>\n            {loading && <Loader/>}\n        </div>\n    );\n};\nexport default Stocks;\n","import {useCallback, useEffect} from \"react\"\nimport {useFile, useLocale} from \"im-hooks\";\nimport {useLazyQuery} from \"@apollo/client\";\nimport {GET_CLIENT} from \"../model/client/queries\";\nimport {Store} from \"../services/database\";\nimport _ from \"lodash\";\nimport useUrl from \"../services/useUrl\";\nimport usePath from \"../services/usePath\";\nimport {useParams} from \"react-router-dom\";\nimport translations from \"../resources/translations\";\n\n\nconst useAccount = () => {\n    const {locale} = useParams<any>()\n    const {t} = useLocale(translations, locale)\n    const {company} = useParams<any>()\n    const [getClient, {data: auth, loading: loadingClient, error: errorClient}]: any = useLazyQuery(GET_CLIENT);\n    const file = useFile()\n    const {getUrl} = useUrl()\n    const {getPath} = usePath()\n    const store = new Store(company)\n\n    const logout = () => {\n        store.removeItem(\"auth\")\n        loadClient()\n    }\n\n    const onLogged = () => {\n        loadClient()\n    }\n\n    const shortAddress = (address: any) => address ? `${address?.apt}, ${address?.street} ${address?.number}` : null\n\n    const loadClient = useCallback(() => {\n        const item = store.getVal(\"auth\")\n        if (item) getClient({variables: {id: item?.id}})\n    }, [getClient])\n\n    useEffect(() => {\n        loadClient()\n    }, [loadClient, company])\n\n    if (errorClient) console.log(errorClient.message)\n\n    return {\n        t,\n        onLogged,\n        getUrl,\n        getPath,\n        shortAddress,\n        file,\n        logout,\n        auth: auth?.client,\n        isAuth: !_.isEmpty(auth?.client),\n        loading: loadingClient\n    }\n}\nexport default useAccount","import {useLocale} from \"im-hooks\";\nimport {useParams} from \"react-router-dom\";\nimport {useContext, useEffect, useState} from \"react\";\nimport {Store} from \"../services/database\";\nimport moment from \"moment\";\nimport _ from \"lodash\";\nimport translations from \"../resources/translations\";\nimport {ChatIO} from \"../services/io/IOProvider\";\n\n\nconst useChat = () => {\n    const {locale} = useParams<any>()\n    const {t, lang} = useLocale(translations, locale)\n    const {company} = useParams<any>()\n    const support = `${company}@${t(\"support\")}`\n    const [msg, setMsg] = useState<any>()\n    const store = new Store(company)\n    const chatIO = useContext(ChatIO)\n    const [dest] = useState<any>(() => ({username: company, email: company, phone: company}))\n    const [sender] = useState<any>(() => store.getVal(\"auth\"))\n\n    const isMsgWithCurrentDest = (m: any) => {\n        return (m?.sender?.phone === dest?.phone && m?.dest?.phone === sender?.phone) ||\n            (m?.sender?.phone === sender?.phone && m?.dest?.phone === dest?.phone);\n\n    }\n    const filterMsg = () => _.filter(msg, (m) => isMsgWithCurrentDest(m))\n    const mapMsg = () => _.map(filterMsg(), (m) => {\n        const isSender = m?.sender?.phone === sender?.phone\n        const created = moment(m?.created).locale(lang).calendar()\n        return {...m, isSender, created}\n    })\n\n    const onMsg = (payload: any) => {\n        fetchMsg()\n    }\n\n    const clearMsg = () => {\n        store.setVal(\"chat\", [])\n        fetchMsg()\n    }\n\n    const fetchMsg = () => {\n        const chatMsg = store.getVal(\"chat\");\n        setMsg(chatMsg);\n    }\n\n    const send = (msg: any) => {\n        if (dest && msg) {\n            const payload = {\n                sender: sender,\n                dest: dest,\n                room: company,\n                created: moment().format(),\n                content: msg\n            }\n            if (chatIO) chatIO.emit(\"message\", payload)\n        }\n    }\n    useEffect(() => {\n        fetchMsg()\n        if (chatIO) {\n            chatIO.emit(\"register\", {content: {...sender}})\n            chatIO.on(\"message\", onMsg)\n        }\n        return () => {\n            if (chatIO) {\n                chatIO.off(\"message\", onMsg)\n            }\n        }\n    }, [])\n    return {\n        t,\n        support,\n        send,\n        filterMsg,\n        msg,\n        mapMsg,\n        clearMsg,\n        title: support,\n        company,\n        auth: sender\n    }\n}\nexport default useChat","import React from \"react\";\nimport style from \"./style.module.css\";\nimport {ChatBox} from \"im-ui-chat\";\nimport useChat from \"../../controllers/useChat\";\nimport {BiSupport} from \"react-icons/bi\"\n\nconst Chat = (props: any) => {\n    const {clearMsg, title, mapMsg, send} = useChat()\n    return (\n        <div className={style.Chat}>\n            <ChatBox\n                icon={<BiSupport/>}\n                title={title}\n                messages={mapMsg()}\n                onClose={clearMsg}\n                onSend={send}/>\n        </div>\n    );\n};\nexport default Chat;\n","import {useFile, useLocale} from \"im-hooks\";\nimport {useLazyQuery} from \"@apollo/client\";\nimport {GET_FULL_CLIENT} from \"../model/client/queries\";\nimport {useCallback, useContext, useEffect} from \"react\";\nimport {Store} from \"../services/database\";\nimport useUrl from \"../services/useUrl\";\nimport {useParams, useRouteMatch} from \"react-router-dom\";\nimport translations from \"../resources/translations\";\nimport moment from \"moment\";\nimport {AnalyticIO} from \"../services/io/IOProvider\";\n\nconst useOrders = () => {\n    const {locale} = useParams<any>()\n    const {t,lang} = useLocale(translations, locale)\n    const {url} = useRouteMatch()\n    const {company} = useParams<any>()\n    const [getClient, {\n        data: auth,\n        loading: loadingClient,\n        error: errorClient\n    }]: any = useLazyQuery(GET_FULL_CLIENT, {fetchPolicy: \"cache-and-network\"});\n    const file = useFile()\n    const {getUrl} = useUrl()\n    const store = new Store(company)\n    const analIO = useContext(AnalyticIO)\n    const operations = auth?.client?.operations?.edges\n    const getDate = (date: string) => {\n        return moment(date).locale(lang).calendar()\n    }\n\n    const loadClient = useCallback(() => {\n        const item = store.getVal(\"auth\")\n        if (item) getClient({variables: {id: item?.id}})\n    }, [getClient])\n\n    const states = [\n        {state: \"active\", label: t(\"Preparing\")},\n        {state: \"shipping\", label: t(\"On way\")},\n        {state: \"arrived\", label: t(\"Arrived\")},\n        {state: \"completed\", label: t(\"Completed\")},\n        {state: \"canceled\", label: t(\"Canceled\")},\n    ]\n\n    useEffect(() => {\n        loadClient()\n        if (analIO) {\n            analIO.on(\"message\", loadClient)\n        }\n        return () => {\n            if (analIO) {\n                analIO.off(\"message\", loadClient)\n            }\n        }\n    }, [loadClient, url])\n\n    if (errorClient) console.log(errorClient.message)\n    return {t, lang, states, getDate, auth: auth?.client, operations, getClient, getUrl, file}\n}\n\nexport default useOrders","import {useCalculator, useLocale} from \"im-hooks\";\nimport _ from \"lodash\";\nimport translations from \"../resources/translations\";\nimport {useParams} from \"react-router-dom\";\n\nconst useClientOrderView = (cart: any[]) => {\n    const {locale} = useParams<any>()\n    const {t} = useLocale(translations, locale)\n    const {subTotal, shipment, amount} = useCalculator(_.map(cart, (o) => o.node))\n    const bills: any = [\n        {name: t(\"Subtotal\"), value: subTotal()},\n        {name: t(\"Shipping\"), value: shipment()},\n        {name: t(\"Total\"), value: amount(), istotal: true},\n    ];\n\n    return {t, bills, subTotal, shipment, amount}\n}\n\nexport default useClientOrderView","import React from 'react'\nimport _ from \"lodash\";\nimport style from \"../../views/orders/style.module.css\";\nimport OrderView from \"../orderview\";\nimport useClientOrderView from \"../../controllers/useClientOrderView\";\nimport {Billing, OrderState} from \"im-ui-core\";\n\nconst ClientOrderView = (props: any) => {\n    const {bills} = useClientOrderView(props.cart)\n    return (\n        <React.Fragment>\n            {_.map(props.cart, (order: any, index) => {\n                return (\n                    <div key={index} className={style.order}>\n                        <OrderView order={order.node}/>\n                    </div>\n                )\n            })}\n            <div className={style.billing}>\n                <Billing bills={bills}/>\n            </div>\n            <div className={style.status}>\n                <OrderState states={props.states} active={props.state}/>\n            </div>\n        </React.Fragment>\n    )\n}\n\nexport default ClientOrderView","import React from \"react\";\nimport style from \"./style.module.css\";\nimport useOrders from \"../../controllers/useOrders\";\nimport _ from \"lodash\";\nimport ClientOrderView from \"../../components/clientOrderView\";\nimport {BiCalendarEvent} from \"react-icons/bi\"\n\nconst Orders = (props: any) => {\n    const {getDate, states, operations} = useOrders()\n    return (\n        <div className={style.Orders}>\n            <div className={style.operations}>\n                {_.map(operations, (o: any, idx) => {\n                    const operation = o.node;\n                    if ([\"active\", \"shipping\", \"arrived\", \"canceled\", \"completed\"].includes(operation.status)) {\n                        return (\n                            <div key={idx} className={style.operation}>\n                                <div className={style.date}>\n                                    <div className={style.icon}><BiCalendarEvent/></div>\n                                    <div className={style.calendar}>{getDate(operation?.created)}</div>\n                                </div>\n                                <div className={style.cart}>\n                                    <ClientOrderView states={states} state={operation?.status}\n                                                     cart={operation?.orders?.edges}/>\n                                </div>\n                            </div>\n                        )\n                    }\n                    return null\n                })}\n            </div>\n        </div>\n    )\n}\nexport default Orders;\n","import {useEffect} from \"react\"\nimport {useLocale} from \"im-hooks\";\nimport {useLazyQuery} from \"@apollo/client\";\nimport {GET_CLIENT} from \"../model/client/queries\";\nimport {Store} from \"../services/database\";\nimport {useParams} from \"react-router-dom\";\nimport translations from \"../resources/translations\";\n\nconst useProfile = ()=>{\n    const {locale} = useParams<any>()\n    const {t} = useLocale(translations, locale)\n    const {company} = useParams<any>()\n    const [getClient, {data: auth, loading: loadingClient, error: errorClient}]: any = useLazyQuery(GET_CLIENT);\n\n    useEffect(() => {\n        const store = new Store(company)\n        const item = store.getVal(\"auth\")\n        getClient({variables: {id: item?.id}})\n    }, [getClient])\n\n    if(errorClient) console.log(errorClient.message)\n    return { t, auth: auth?.client, loading: loadingClient}\n}\n\nexport default useProfile","import {useForm} from \"react-hook-form\"\nimport {useLocale} from \"im-hooks\"\nimport useLink from \"../services/useLink\"\nimport {useCallback, useContext, useEffect, useState} from \"react\"\nimport {OpenStreetMapProvider} from \"leaflet-geosearch\";\nimport {RestClient} from \"../services/database\";\nimport translations from \"../resources/translations\";\nimport {useParams} from \"react-router-dom\";\nimport {useLazyQuery} from \"@apollo/client\";\nimport {GET_SETTING} from \"../model/setting/queries\";\n\nconst useRegister = (auth?: any) => {\n    const {locale} = useParams<any>()\n    const {t} = useLocale(translations, locale)\n    const {goTo, link} = useLink()\n    const [fetch, {\n        loading: loadingSetting,\n        data: setting,\n        error: errorSetting\n    }] = useLazyQuery(GET_SETTING, {fetchPolicy: \"network-only\"});\n    const bounds = setting?.setting?.bounds\n    const loadSetting = useCallback(() => fetch({variables: {id: \"/api/settings/1\"}}), [fetch])\n    const {register, handleSubmit} = useForm()\n    const [preview, setPreview] = useState<any>(auth?.address?.location)\n    const [error, setError] = useState<any>({})\n    const [data, setData] = useState<any>({})\n    const [confirmed, setConfirm] = useState<boolean>(false)\n    const [registered, setRegistered] = useState<boolean>(false)\n    const [loading, setLoading] = useState<boolean>(false)\n    const rest = useContext(RestClient)\n\n    const isAddress = (address: any) => address?.street && address?.number\n    const isUser = (user: any) => user?.username && user?.phone\n\n    const onError = (e: any) => console.log(e.message)\n    const checkAddress = async (address: any) => {\n        try {\n            const provider = new OpenStreetMapProvider();\n            let query = `${address?.number} ${address?.street} ${address?.city}`;\n            const res = await provider.search({query});\n            return res[0]\n        } catch (error) {\n            onError(error)\n        }\n    }\n    const submit = async (fData: any) => {\n        setLoading(true)\n        setError({})\n        try {\n            const location: any = await checkAddress(fData.address)\n            if (!location) return setError({address: {street: t('Invalid address!')}})\n            setPreview((preview: any) => preview = location)\n            setConfirm(false)\n            fData.address.id = auth?.address?.id\n            fData.address.location = {\n                id: auth?.address?.location?.id,\n                x: location.x,\n                y: location.y,\n                label: location.label\n            }\n            setData((data: any) => data = fData)\n        } catch (error) {\n            onError(error)\n        } finally {\n            setLoading(false)\n        }\n    }\n    const confirm = async () => {\n        if (!isAddress(data?.address)) return setError({address: {street: t('Invalid address!')}})\n        if (!isUser(data)) return setError({username: t('Invalid user!')})\n        setLoading(true)\n        try {\n            const verb = auth ? \"PUT\" : \"POST\";\n            const path = auth ? auth.id : \"/api/clients\"\n            const res = await rest?.request(verb, path, data)\n            if (!res.ok) return setError({username: t('Something is wrong!')})\n            setConfirm(true)\n            if (!auth) setRegistered(true)\n        } catch (error) {\n            onError(error)\n        } finally {\n            setLoading(false)\n            setPreview(null)\n        }\n    }\n    const onclose = () => {\n        setPreview(null)\n        setConfirm(false)\n    }\n    const resetAddress = () => {\n        setPreview(null)\n        setConfirm(false)\n    }\n\n    useEffect(() => {\n        loadSetting();\n    }, [loadSetting]);\n    if(errorSetting) onError(errorSetting)\n    return {\n        t,\n        bounds,\n        checkAddress,\n        isUser,\n        isAddress,\n        link,\n        error,\n        registered,\n        resetAddress,\n        loading: loading || loadingSetting,\n        preview,\n        confirm,\n        confirmed,\n        onclose,\n        goTo,\n        submit,\n        register,\n        handleSubmit\n    }\n}\n\nexport default useRegister","import React from \"react\";\nimport {Mapview, Modal, Button} from \"im-ui-core\";\nimport {useLocale} from \"im-hooks\";\nimport style from \"./style.module.css\";\nimport translations from \"../../resources/translations\";\nimport {useParams} from \"react-router-dom\";\n\nconst Map = (props: any) => {\n    const {locale} = useParams<any>();\n    const {t} = useLocale(translations, locale);\n    return (\n        <Modal\n            onClose={props.onClose}\n            className={style.Map}\n            dimension={{width: \"70vw\", height: \"auto\"}}\n        >\n            <Mapview address={props.address} bounds={props.bounds}/>\n            <div className={style.field}>\n                <div className={style.submit}>\n                    <Button onClick={props.onConfirm}>{t(\"Confirm Address\")}</Button>\n                </div>\n            </div>\n        </Modal>\n    );\n};\n\nexport default Map;\n","import React from \"react\";\nimport useRegister from \"../../controllers/useRegister\";\nimport style from \"./style.module.css\";\nimport { BsFillPersonCheckFill } from \"react-icons/bs\";\nimport { Link } from \"react-router-dom\";\n\nconst AfterRegister = (props: any) => {\n  const { t, link } = useRegister();\n  return (\n    <div className={style.After}>\n      <div className={style.after}>\n        <div className={style.icon}>\n          <BsFillPersonCheckFill />\n        </div>\n        <div className={style.message}>{t(\"You have been registered\")}</div>\n        <div className={style.link}>\n          <Link to={link(\"/stocks\")}>{t(\"Continue shopping\")}</Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AfterRegister;\n","import React from \"react\";\nimport style from \"./style.module.css\";\nimport {Button, Field, Loader} from \"im-ui-core\";\nimport useRegister from \"../../controllers/useRegister\";\nimport Map from \"../../components/map\";\nimport {MdLocationOn, MdMail, MdPerson, MdPhone} from \"react-icons/md\";\nimport AfterRegister from \"./after\";\n\nconst Register = (props: any) => {\n    const {\n        t,\n        bounds,\n        error,\n        registered,\n        resetAddress,\n        loading,\n        goTo,\n        preview,\n        confirm,\n        confirmed,\n        onclose,\n        register,\n        handleSubmit,\n        submit,\n    } = useRegister(props.auth);\n    if (registered) return <AfterRegister/>;\n    return (\n        <div className={style.Register}>\n            <div className={style.register}>\n                <form className={style.form} onSubmit={handleSubmit(submit)}>\n                    <div className={style.field}>\n                        <Field\n                            label={t(\"Username\")}\n                            error={error?.username}\n                            iconRight={<MdPerson/>}\n                        >\n                            <input type=\"text\" name=\"username\" ref={register} defaultValue={props?.auth?.username}/>\n                        </Field>\n                    </div>\n                    <div className={`${style.field} ${style[\"grid-2\"]}`}>\n                        <Field label={t(\"Email\")} iconRight={<MdMail/>}>\n                            <input type=\"text\" name=\"email\" ref={register} defaultValue={props?.auth?.email}/>\n                        </Field>\n                        <Field label={t(\"Phone\")} iconRight={<MdPhone/>}>\n                            <input type=\"text\" name=\"phone\" ref={register} defaultValue={props?.auth?.phone}/>\n                        </Field>\n                    </div>\n                    <div className={style.field}>\n                        <Field\n                            label={t(\"Street\")}\n                            iconRight={<MdLocationOn/>}\n                            error={error?.address?.street}\n                        >\n                            <input\n                                type=\"text\"\n                                name=\"address.street\"\n                                ref={register}\n                                onBlur={resetAddress}\n                                defaultValue={props?.auth?.address?.street}\n                            />\n                        </Field>\n                    </div>\n                    <div className={`${style.field} ${style[\"grid-3\"]}`}>\n                        <Field label={t(\"Street Number\")}>\n                            <input\n                                type=\"text\"\n                                name=\"address.number\"\n                                ref={register}\n                                onBlur={resetAddress}\n                                defaultValue={props?.auth?.address?.number}\n                            />\n                        </Field>\n                        <Field label={t(\"Apt\")}>\n                            <input\n                                type=\"text\"\n                                name=\"address.apt\"\n                                ref={register}\n                                onBlur={resetAddress}\n                                defaultValue={props?.auth?.address?.apt}\n                            />\n                        </Field>\n                        <Field label={t(\"City\")}>\n                            <input\n                                type=\"text\"\n                                defaultValue=\"CABA, Argentina\"\n                                name=\"address.city\"\n                                readOnly\n                                ref={register}\n                            />\n                        </Field>\n                    </div>\n                    <div className={style.submit}>\n                        <Button type=\"submit\" theme=\"light\">\n                            {props.auth ? t(\"Update\") : t(\"Register\")}\n                        </Button>\n                    </div>\n                    {!props.auth &&\n                    <div className={style.submit}>\n                        <Button onClick={() => goTo(\"/login\")}>{t(\"Login\")}</Button>\n                    </div>}\n                </form>\n            </div>\n            {preview && !confirmed && (\n                <Map\n                    bounds={bounds}\n                    address={{location: preview}}\n                    onConfirm={confirm}\n                    onClose={onclose}\n                />\n            )}\n            {loading && <Loader/>}\n        </div>\n    );\n};\nexport default Register;\n","import React from \"react\"\nimport useProfile from \"../../controllers/useProfile\"\nimport Register from \"../register\";\nimport style from \"./style.module.css\"\n\nconst Profile = (props: any) => {\n    const {auth} = useProfile()\n    return (\n        <div className={style.Profile}>\n            <Register auth={auth}/>\n        </div>\n    )\n}\n\nexport default Profile","import React from \"react\";\nimport style from \"./style.module.css\";\nimport useAccount from \"../../controllers/useAccount\";\nimport {NavLink, Redirect, Route, Switch} from \"react-router-dom\";\nimport Chat from \"../chat\";\nimport Orders from \"../orders\";\nimport Profile from \"../profile\";\nimport Login from \"../login\";\n\nconst Account = (props: any) => {\n    const {t, onLogged, getUrl, getPath, isAuth} = useAccount()\n    if (!isAuth) return <Login onLogged={onLogged}/>\n    return (\n        <div className={style.Account}>\n            <div className={style.heading}>\n                <nav className={style.tabs}>\n                    <ul>\n                        <li>\n                            <NavLink\n                                className={style.tab}\n                                activeClassName={style.active}\n                                to={getUrl(\"/chat\")}\n                            >\n                                {t(\"Chat\")}\n                            </NavLink>\n                        </li>\n                        <li>\n                            <NavLink\n                                className={style.tab}\n                                activeClassName={style.active}\n                                to={getUrl(\"/orders\")}\n                            >\n                                {t(\"Orders\")}\n                            </NavLink>\n                        </li>\n                        <li>\n                            <NavLink\n                                className={style.tab}\n                                activeClassName={style.active}\n                                to={getUrl(\"/profile\")}\n                            >\n                                {t(\"Account\")}\n                            </NavLink>\n                        </li>\n                    </ul>\n                </nav>\n            </div>\n            <div className={style.body}>\n                <Switch>\n                    <Route path={getPath(\"/profile\")} component={Profile} exact/>\n                    <Route path={getPath(\"/chat\")} component={Chat} exact/>\n                    <Route path={getPath(\"/orders\")} component={Orders} exact/>\n                    <Route path={getPath(\"/\")} component={() => <Redirect to={getUrl(\"/profile\")}/>} exact/>\n                </Switch>\n            </div>\n        </div>\n    );\n};\nexport default Account;\n","import {Store} from \"../services/database\";\nimport useLink from \"../services/useLink\";\nimport useCartModel from \"../model/cart\";\n\nconst useLogout = () => {\n    const store = new Store()\n    const {goTo} = useLink()\n    const cart = useCartModel()\n\n    store.clear();\n    cart.clear()\n    goTo(\"/stocks\")\n}\n\nexport default useLogout","import useLogout from \"../../controllers/useLogout\";\n\nconst Logout = () => {\n    useLogout()\n    return <div />\n}\n\nexport default Logout","import React from \"react\";\nimport {Redirect, Route, Switch} from \"react-router-dom\";\nimport TopBar from \"./components/topbar\";\nimport useApp from \"./controllers/useApp\";\nimport {GqlProvider, RestProvider} from \"./services/database\";\nimport {Account, Cart, Login, Logout, Register, Stocks} from \"./views\";\nimport {SocketIOProvider} from \"./services/io\";\n\nfunction App() {\n    const {getPath, getUrl,  rest, apollo} = useApp();\n    return (\n        <GqlProvider apollo={apollo}>\n            <RestProvider rest={rest}>\n                <SocketIOProvider>\n                    <TopBar/>\n                    <Switch>\n                        <Route path={getPath(\"/stocks\")} component={Stocks} exact/>\n                        <Route path={getPath(\"/cart\")} component={Cart} exact/>\n                        <Route path={getPath(\"/account\")} component={Account}/>\n                        <Route path={getPath(\"/login\")} component={Login} exact/>\n                        <Route path={getPath(\"/logout\")} component={Logout} exact/>\n                        <Route path={getPath(\"/register\")} component={Register} exact/>\n                        <Route path={getPath()} component={() => <Redirect to={getUrl(\"/stocks\")}/>} exact/>\n                    </Switch>\n                </SocketIOProvider>\n            </RestProvider>\n        </GqlProvider>\n    );\n}\n\nexport default App;\n","import React from \"react\";\nimport style from \"./style.module.css\";\n\nconst Error404 = (props: any) => {\n  return (\n    <div className={style.Error404}>\n      <div className={style.message}>{\"PAGE NOT FOUND\"}</div>\n    </div>\n  );\n};\nexport default Error404;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {BrowserRouter as Router, Route, Switch} from \"react-router-dom\";\nimport \"im-ui-core/dist/index.css\"\nimport \"im-ui-chat/dist/index.css\"\nimport \"./index.css\";\nimport App from \"./App\";\nimport {Error404} from \"./components/errors\";\nimport 'moment/locale/fr'\nimport 'moment/locale/es'\nimport 'moment/locale/pt'\n\nReactDOM.render(\n    <React.StrictMode>\n        <Router basename=\"/market\">\n            <Switch>\n                <Route path=\"/:locale/:company\" component={App}/>\n                <Route path=\"/\" component={Error404} exact/>\n            </Switch>\n        </Router>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Register\":\"style_Register__2fy8P\",\"After\":\"style_After__xoTju\",\"register\":\"style_register__3JWXL\",\"after\":\"style_after__2yTP6\",\"icon\":\"style_icon__3Epo8\",\"message\":\"style_message__dkLnZ\",\"link\":\"style_link__xj-I6\",\"field\":\"style_field__2XZup\",\"submit\":\"style_submit__3zkHL\",\"form\":\"style_form__17YMT\",\"grid-2\":\"style_grid-2__QAeXH\",\"grid-3\":\"style_grid-3__3Y4Bt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"After\":\"style_After__9xvOC\",\"content\":\"style_content__15C5r\",\"icon\":\"style_icon__3rwp-\",\"message\":\"style_message__3toCV\",\"link\":\"style_link__Y6RFX\",\"Cart\":\"style_Cart__HXR3y\",\"cart\":\"style_cart__2GqH5\",\"billing\":\"style_billing__3avAp\",\"payment\":\"style_payment__2Qnju\",\"bill\":\"style_bill__13kRt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PopMenu\":\"style_PopMenu__2OLFI\",\"icon\":\"style_icon__1AmnW\",\"overlay\":\"style_overlay__2zfMR\",\"items\":\"style_items__1ge1q\",\"item\":\"style_item__2ydJr\",\"link\":\"style_link__1tmcE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Orders\":\"style_Orders__1Z2y1\",\"operations\":\"style_operations__3X1ET\",\"operation\":\"style_operation__1jrqC\",\"date\":\"style_date__5dKuf\",\"icon\":\"style_icon__3q2E1\",\"calendar\":\"style_calendar__2sslQ\",\"billing\":\"style_billing__2cd95\",\"status\":\"style_status__2Xma5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TopBar\":\"style_TopBar__1Qytk\",\"brand\":\"style_brand__mW8P_\",\"name\":\"style_name__tphD7\",\"badge\":\"style_badge__3bhsJ\",\"link\":\"style_link__1z7dP\",\"active\":\"style_active__3y0fB\",\"icon\":\"style_icon__1gYNC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Account\":\"style_Account__pcHtH\",\"heading\":\"style_heading__2tO5v\",\"tabs\":\"style_tabs__3D6uS\",\"active\":\"style_active__98I7L\",\"body\":\"style_body__2L0t7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"style_Login__1qdBw\",\"login\":\"style_login__37fSH\",\"field\":\"style_field__3S_FG\",\"submit\":\"style_submit__2OvUf\",\"form\":\"style_form__2-2C6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NoCart\":\"style_NoCart__m8eHx\",\"content\":\"style_content__FNTdu\",\"icon\":\"style_icon__10LLB\",\"message\":\"style_message__2qKh4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CashPay\":\"style_CashPay__3TnKT\",\"location\":\"style_location__3qfid\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Stocks\":\"style_Stocks__3esHf\",\"content\":\"style_content__3qfTf\",\"items\":\"style_items__3IHGN\",\"header\":\"style_header__1eKww\"};"],"sourceRoot":""}